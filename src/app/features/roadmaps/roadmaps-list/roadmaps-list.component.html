<div class="roadmaps-page">
  <header class="page-header anim-fade-in">
    <div>
      <h1>Roadmaps</h1>
      <p>Gestiona los roadmaps de programaci√≥n</p>
    </div>
    <a routerLink="/roadmaps/new" class="btn-primary">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
        <line x1="12" y1="5" x2="12" y2="19" />
        <line x1="5" y1="12" x2="19" y2="12" />
      </svg>
      Nuevo Roadmap
    </a>
  </header>

  @if (isLoading()) {
    <div class="loading anim-fade-in">
      <div class="loading-spinner" aria-hidden="true"></div>
      <span>Cargando roadmaps...</span>
    </div>
  } @else if (roadmaps().length === 0) {
    <div class="empty-state anim-fade-in">
      <div class="empty-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <polygon points="12 2 2 7 12 12 22 7 12 2" />
          <polyline points="2 17 12 22 22 17" />
          <polyline points="2 12 12 17 22 12" />
        </svg>
      </div>
      <h3>No hay roadmaps</h3>
      <p>Crea tu primer roadmap para tus alumnos</p>
      <a routerLink="/roadmaps/new" class="btn-primary">Crear Roadmap</a>
    </div>
  } @else {
    <div class="roadmaps-grid anim-fade-in anim-delay-1">
      @for (roadmap of roadmaps(); track roadmap.id) {
        <article class="roadmap-card">
          <div class="card-header">
            <span class="category-badge" [class]="roadmap.category">{{ roadmap.category }}</span>
            <span class="difficulty-badge" [class]="roadmap.difficulty">{{ roadmap.difficulty }}</span>
          </div>
          <h3>{{ roadmap.title }}</h3>
          <p class="description">{{ roadmap.description }}</p>
          <div class="card-meta">
            <span class="meta-item">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <circle cx="12" cy="12" r="10" />
                <polyline points="12 6 12 12 16 14" />
              </svg>
              {{ roadmap.estimatedHours }}h
            </span>
            <span class="meta-item">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <circle cx="12" cy="12" r="3" />
                <path d="M12 2v4m0 12v4m-7.07-15.07l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83" />
              </svg>
              {{ roadmap.nodes.length }} nodos
            </span>
          </div>
          <div class="card-actions">
            <a [routerLink]="['/roadmaps', roadmap.id]" class="btn-view">
              Ver Detalles
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <polyline points="9 18 15 12 9 6" />
              </svg>
            </a>
            <a [routerLink]="['/roadmaps', roadmap.id, 'edit']" class="btn-edit">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
              </svg>
              Editar
            </a>
          </div>
        </article>
      }
    </div>
  }
</div>
